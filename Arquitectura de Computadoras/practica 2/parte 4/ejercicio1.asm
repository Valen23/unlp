PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H
ORG 2000H
MOV AL, 0
OUT CB, AL
MOV AL, 0FFH
OUT CA, AL
MOV AL, 1
IZQ:
OUT PB, AL
CMP AL, 128
JZ DER
ADD AL, AL
JMP IZQ
DER:
MOV DH, 7
MOV BH, 1
MOV DL, 1
LOOP:
ADD DL, DL
INC BH
CMP BH, DH
JNZ LOOP
DEC DH
MOV AL, DL
OUT PB, AL
MOV BH, 0
MOV DL, 1
JMP LOOP
INT 0
END